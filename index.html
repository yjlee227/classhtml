<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¿ˆë‚˜ë¬´ ë„ì„œê´€</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font for a playful look -->
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body {
            font-family: Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
        }
        .drawing-canvas {
            border: 2px solid #ccc;
            cursor: crosshair;
            touch-action: none;
        }
        .sticker-img {
            cursor: pointer;
            transition: transform 0.2s;
        }
        .sticker-img:hover {
            transform: scale(1.1);
        }
        .tooltip {
            visibility: hidden;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 10px;
            position: absolute;
            z-index: 10;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        .tooltip::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }
        .has-tooltip:hover .tooltip {
            visibility: visible;
            opacity: 1;
        }
        .book-card {
            cursor: pointer;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            border: 2px solid transparent;
        }
        .book-card:hover {
            transform: scale(1.05) translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1), 0 0 0 4px rgba(255, 255, 255, 0.5);
        }
        .news-card {
            cursor: pointer;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }
        .btn-fancy {
            transition: all 0.3s ease-in-out;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .btn-fancy:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
        }
        /* AI-era style changes */
        .ai-header-bg {
            background: linear-gradient(90deg, #1e3a8a, #4f46e5, #9333ea);
        }
        .ai-header-title {
            text-shadow: 0 0 10px #ffffff, 0 0 20px #818cf8;
        }
        .ai-card-glow:hover {
            box-shadow: 0 0 15px rgba(129, 140, 248, 0.5);
            border-color: #818cf8;
        }
        .ai-btn-glow {
            box-shadow: 0 0 10px rgba(100, 100, 200, 0.5);
        }
        .ai-btn-glow:hover {
            box-shadow: 0 0 20px rgba(100, 100, 200, 0.8);
        }
    </style>
    <!-- Three.js CDN for 3D graphics -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body class="bg-slate-900 text-gray-200">

    <!-- Header with a new gradient background and icon -->
    <header class="ai-header-bg shadow-xl py-4 px-8 flex items-center gap-4">
        <h1 class="text-3xl font-bold text-white flex items-center gap-2 ai-header-title">
            <!-- New book icon as an inline SVG -->
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-book">
                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20V6a2 2 0 0 0-2-2H6.5A2.5 2.5 0 0 0 4 6.5v13z"/>
                <path d="M12 21.5V17"/>
                <path d="M12 17h8.5"/>
                <path d="M4 19.5a2.5 2.5 0 0 0 2.5 2.5h14.5"/>
            </svg>
            ê¿ˆë‚˜ë¬´ ë„ì„œê´€
        </h1>
    </header>

    <main class="p-8">
        <!-- Main Page Section -->
        <div id="main-page" class="space-y-16">
            <section class="relative text-center py-20 px-4 rounded-2xl overflow-hidden bg-gradient-to-r from-violet-900 to-fuchsia-900 shadow-lg">
                <!-- 3D Canvas Container -->
                <div id="hero-canvas-container" class="absolute inset-0"></div>
                
                <!-- New static shapes for the hero section -->
                <div class="absolute inset-0 z-0">
                    <svg class="absolute w-full h-full" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="g1" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:rgba(129, 140, 248, 0.2);stop-opacity:1" />
                                <stop offset="100%" style="stop-color:rgba(232, 121, 249, 0.4);stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <!-- Geometric shapes -->
                        <rect x="5%" y="15%" width="20" height="20" rx="4" fill="url(#g1)" opacity="0.8"/>
                        <circle cx="25%" cy="80%" r="5" fill="url(#g1)" opacity="0.6"/>
                        <polygon points="70,30 80,45 60,45" fill="url(#g1)" opacity="0.7"/>
                        <rect x="80%" y="55%" width="15" height="15" rx="3" fill="url(#g1)" opacity="0.9"/>
                    </svg>
                </div>
                
                <div class="relative z-10">
                    <h2 class="text-5xl font-extrabold text-white mb-4">ê¿ˆê³¼ ì´ì•¼ê¸°ê°€ ìë¼ëŠ” ê³³</h2>
                    <p class="text-xl text-white/90 mb-8">AIì™€ í•¨ê»˜ ìƒˆë¡œìš´ ìƒìƒì„ ì‹œì‘í•´ ë³´ì„¸ìš”.</p>
                    <div class="w-full max-w-xl mx-auto">
                        <div class="flex items-center bg-white/10 backdrop-blur-sm p-2 rounded-full shadow-xl ring-2 ring-white/50 ai-card-glow">
                            <input id="search-input" type="text" placeholder="ì–´ë–¤ ì±…ì„ ì°¾ì•„ë³¼ê¹Œìš”? ì˜ˆ: 'êµ¬ë¦„ë¹µ'" class="w-full bg-transparent px-4 py-2 text-white focus:outline-none placeholder-gray-300"/>
                            <button onclick="searchBook()" class="bg-fuchsia-600 text-white rounded-full px-6 py-3 ml-2 hover:bg-fuchsia-700 transition-all duration-300 transform hover:scale-105 flex items-center gap-2 font-bold ai-btn-glow">
                                <span>ğŸ“š</span><span>ê²€ìƒ‰</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <section>
                <h2 class="text-3xl font-bold text-center mb-8 text-white">ì´ë‹¬ì˜ ì¶”ì²œ ë„ì„œ</h2>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6">
                    <!-- Enhanced book card designs -->
                    <div class="text-center book-card rounded-lg bg-gray-800 text-gray-200 ai-card-glow" onclick="showBookDetails('êµ¬ë¦„ë¹µ', 'ë°±í¬ë‚˜', 'bg-sky-500', 'í•˜ëŠ˜ì„ ë‚˜ëŠ” ì‹ ë¹„í•œ êµ¬ë¦„ë¹µ ì´ì•¼ê¸°! ì•„ì´ë“¤ì˜ ìƒìƒë ¥ì„ ìê·¹í•˜ëŠ” ë”°ëœ»í•œ ê·¸ë¦¼ì±…ì…ë‹ˆë‹¤.')">
                        <div class="w-full h-56 rounded-lg shadow-lg flex items-center justify-center bg-sky-500 text-white text-3xl font-bold">êµ¬ë¦„ë¹µ</div>
                        <h3 class="mt-4 font-semibold text-lg">êµ¬ë¦„ë¹µ</h3>
                        <p class="text-gray-400 text-sm">ë°±í¬ë‚˜</p>
                    </div>
                    <div class="text-center book-card rounded-lg bg-gray-800 text-gray-200 ai-card-glow" onclick="showBookDetails('ì•Œì‚¬íƒ•', 'ë°±í¬ë‚˜', 'bg-rose-500', 'ì™¸í†¨ì´ ë™ë™ì´ì—ê²Œ íŠ¹ë³„í•œ ì¹œêµ¬ë“¤ì„ ë§Œë“¤ì–´ì£¼ëŠ” ì‹ ë¹„í•œ ì•Œì‚¬íƒ• ì´ì•¼ê¸°. ë§ˆìŒì˜ ì†Œë¦¬ë¥¼ ë“¤ë ¤ì£¼ëŠ” ë”°ëœ»í•œ ê·¸ë¦¼ì±…ì…ë‹ˆë‹¤.')">
                        <div class="w-full h-56 rounded-lg shadow-lg flex items-center justify-center bg-rose-500 text-white text-3xl font-bold">ì•Œì‚¬íƒ•</div>
                        <h3 class="mt-4 font-semibold text-lg">ì•Œì‚¬íƒ•</h3>
                        <p class="text-gray-400 text-sm">ë°±í¬ë‚˜</p>
                    </div>
                    <div class="text-center book-card rounded-lg bg-gray-800 text-gray-200 ai-card-glow" onclick="showBookDetails('ë‹¬ ìƒ¤ë² íŠ¸', 'ë°±í¬ë‚˜', 'bg-amber-500', 'ë”ìš´ ì—¬ë¦„, ë…¹ì•„ë‚´ë¦° ë‹¬ì„ ëª¨ì•„ ë§Œë“  ë‹¬ì½¤í•œ ìƒ¤ë² íŠ¸ ì´ì•¼ê¸°. ì§€êµ¬ ì˜¨ë‚œí™”ì— ëŒ€í•œ ë©”ì‹œì§€ë¥¼ ë‹´ê³  ìˆëŠ” ìƒìƒë ¥ ë„˜ì¹˜ëŠ” ê·¸ë¦¼ì±…ì…ë‹ˆë‹¤.')">
                        <div class="w-full h-56 rounded-lg shadow-lg flex items-center justify-center bg-amber-500 text-white text-3xl font-bold">ë‹¬ ìƒ¤ë² íŠ¸</div>
                        <h3 class="mt-4 font-semibold text-lg">ë‹¬ ìƒ¤ë² íŠ¸</h3>
                        <p class="text-gray-400 text-sm">ë°±í¬ë‚˜</p>
                    </div>
                    <div class="text-center book-card rounded-lg bg-gray-800 text-gray-200 ai-card-glow" onclick="showBookDetails('ì—°ì´ì™€ ë²„ë“¤ ë„ë ¹', 'ë¯¸ë””ì–´ì°½ë¹„', 'bg-teal-500', 'í•œêµ­ì˜ ì „ë˜ë™í™”ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•œ ì•„ë¦„ë‹¤ìš´ ì‚¬ë‘ ì´ì•¼ê¸°. ì„¬ì„¸í•œ ê·¸ë¦¼ê³¼ ê°ë™ì ì¸ ìŠ¤í† ë¦¬ê°€ ë‹ë³´ì´ëŠ” ê·¸ë¦¼ì±…ì…ë‹ˆë‹¤.')">
                        <div class="w-full h-56 rounded-lg shadow-lg flex items-center justify-center bg-teal-500 text-white text-3xl font-bold">ì—°ì´ì™€ ë²„ë“¤ ë„ë ¹</div>
                        <h3 class="mt-4 font-semibold text-lg">ì—°ì´ì™€ ë²„ë“¤ ë„ë ¹</h3>
                        <p class="text-gray-400 text-sm">ë¯¸ë””ì–´ì°½ë¹„</p>
                    </div>
                    <div class="text-center book-card rounded-lg bg-gray-800 text-gray-200 ai-card-glow" onclick="showBookDetails('íŒ¥ì£½ í• ë¨¸ë‹ˆì™€ í˜¸ë‘ì´', 'ì‚¬ê³„ì ˆ', 'bg-indigo-500', 'ê¾€ ë§ì€ í• ë¨¸ë‹ˆì™€ ì–´ìˆ˜ë£©í•œ í˜¸ë‘ì´ì˜ í¥ë¯¸ì§„ì§„í•œ ëŒ€ê²° ì´ì•¼ê¸°. ì•„ì´ë“¤ì—ê²Œ êµí›ˆì„ ì£¼ëŠ” ì „í†µ ê·¸ë¦¼ì±…ì…ë‹ˆë‹¤.')">
                        <div class="w-full h-56 rounded-lg shadow-lg flex items-center justify-center bg-indigo-500 text-white text-3xl font-bold">íŒ¥ì£½ í• ë¨¸ë‹ˆì™€ í˜¸ë‘ì´</div>
                        <h3 class="mt-4 font-semibold text-lg">íŒ¥ì£½ í• ë¨¸ë‹ˆì™€ í˜¸ë‘ì´</h3>
                        <p class="text-gray-400 text-sm">ì‚¬ê³„ì ˆ</p>
                    </div>
                    <div class="text-center book-card rounded-lg bg-gray-800 text-gray-200 ai-card-glow" onclick="showBookDetails('ê°•ì•„ì§€ë˜¥', 'ê¶Œì •ìƒ', 'bg-orange-500', 'ì„¸ìƒì˜ ê°€ì¥ í•˜ì°®ì€ ì¡´ì¬ë„ ì†Œì¤‘í•œ ì˜ë¯¸ê°€ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œë ¤ì£¼ëŠ” ë”°ëœ»í•œ ì´ì•¼ê¸°. ë§ì€ ì‚¬ëŒë“¤ì—ê²Œ ì‚¬ë‘ë°›ëŠ” ë™í™”ì…ë‹ˆë‹¤.')">
                        <div class="w-full h-56 rounded-lg shadow-lg flex items-center justify-center bg-orange-500 text-white text-3xl font-bold">ê°•ì•„ì§€ë˜¥</div>
                        <h3 class="mt-4 font-semibold text-lg">ê°•ì•„ì§€ë˜¥</h3>
                        <p class="text-gray-400 text-sm">ê¶Œì •ìƒ</p>
                    </div>
                </div>
            </section>
            
            <section class="bg-gray-800 p-8 rounded-2xl shadow-lg">
                <h2 class="text-3xl font-bold text-center mb-8 text-white">ë„ì„œê´€ ì†Œì‹</h2>
                <div class="max-w-2xl mx-auto">
                    <!-- Enhanced news card designs -->
                    <div class="bg-gray-900 p-6 rounded-lg shadow-md mb-4 news-card" data-title="[ê³µì§€] 9ì›” ë…ì„œì˜ ë‹¬ í–‰ì‚¬ ì•ˆë‚´" data-date="2025-09-08" data-content="9ì›” í•œ ë‹¬ê°„, 'ì±…ê³¼ í•¨ê»˜ ë– ë‚˜ëŠ” ìƒìƒ ì—¬í–‰'ì„ ì£¼ì œë¡œ ë‹¤ì–‘í•œ ì˜¨ë¼ì¸ í–‰ì‚¬ê°€ ì§„í–‰ë©ë‹ˆë‹¤. ë…ì„œ ì±Œë¦°ì§€, ì‘ê°€ì™€ì˜ ë§Œë‚¨, ì˜¨ë¼ì¸ í€´ì¦ˆ ì´ë²¤íŠ¸ ë“± ë‹¤ì±„ë¡œìš´ í”„ë¡œê·¸ë¨ì´ ì¤€ë¹„ë˜ì–´ ìˆìœ¼ë‹ˆ ì•„ì´ë“¤ê³¼ í•¨ê»˜ ë§ì€ ì°¸ì—¬ ë°”ëë‹ˆë‹¤.">
                        <h3 class="font-bold text-xl text-teal-400 mb-2">[ê³µì§€] 9ì›” ë…ì„œì˜ ë‹¬ í–‰ì‚¬ ì•ˆë‚´</h3>
                        <p class="text-gray-300">9ì›” í•œ ë‹¬ê°„, 'ì±…ê³¼ í•¨ê»˜ ë– ë‚˜ëŠ” ìƒìƒ ì—¬í–‰'ì„ ì£¼ì œë¡œ ë‹¤ì–‘í•œ ì˜¨ë¼ì¸ í–‰ì‚¬ê°€ ì§„í–‰ë©ë‹ˆë‹¤. ë§ì€ ì°¸ì—¬ ë°”ëë‹ˆë‹¤.</p>
                        <span class="text-sm text-gray-500 mt-2 block">2025-09-08</span>
                    </div>
                    <div class="bg-gray-900 p-6 rounded-lg shadow-md news-card" data-title="[ì´ë²¤íŠ¸] 'ë‚˜ë§Œì˜ ì±…ê°ˆí”¼ ë§Œë“¤ê¸°' ì›Œí¬ìˆ" data-date="2025-09-06" data-content="ë§¤ì£¼ í† ìš”ì¼ ì˜¤í›„ 2ì‹œ, ì–´ë¦°ì´ ìë£Œì‹¤ì—ì„œ 'ë‚˜ë§Œì˜ ì±…ê°ˆí”¼ ë§Œë“¤ê¸°' ì›Œí¬ìˆì´ ì—´ë¦½ë‹ˆë‹¤. ë‚˜ë§Œì˜ ê°œì„±ì„ ë‹´ì€ ë©‹ì§„ ì±…ê°ˆí”¼ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì ˆí˜¸ì˜ ê¸°íšŒ! ì„ ì°©ìˆœ 10ëª…ê¹Œì§€ ì°¸ì—¬ ê°€ëŠ¥í•˜ë‹ˆ ì„œë‘˜ëŸ¬ ì‹ ì²­í•˜ì„¸ìš”!">
                        <h3 class="font-bold text-xl text-teal-400 mb-2">[ì´ë²¤íŠ¸] 'ë‚˜ë§Œì˜ ì±…ê°ˆí”¼ ë§Œë“¤ê¸°' ì›Œí¬ìˆ</h3>
                        <p class="text-gray-300">ë§¤ì£¼ í† ìš”ì¼ ì˜¤í›„ 2ì‹œ, ì–´ë¦°ì´ ìë£Œì‹¤ì—ì„œ ë‚˜ë§Œì˜ ì±…ê°ˆí”¼ ë§Œë“¤ê¸° ì›Œí¬ìˆì´ ì—´ë¦½ë‹ˆë‹¤. ì„ ì°©ìˆœ 10ëª…ê¹Œì§€ ì°¸ì—¬ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
                        <span class="text-sm text-gray-500 mt-2 block">2025-09-06</span>
                    </div>
                </div>
            </section>
            
            <!-- Link to the sub-page -->
            <section class="text-center">
                <button onclick="showPage('story-creator-page')" class="btn-fancy bg-purple-600 text-white font-bold py-4 px-8 rounded-full shadow-lg hover:bg-purple-700 ai-btn-glow">
                    âœ¨ ë‚˜ë§Œì˜ ì´ì•¼ê¸° ë§Œë“¤ëŸ¬ ê°€ê¸°! âœ¨
                </button>
            </section>
        </div>

        <!-- Sub-page Section: Story Creator -->
        <div id="story-creator-page" class="space-y-10 hidden">
            <!-- Back button -->
            <button onclick="showPage('main-page')" class="btn-fancy bg-gray-700 text-white font-bold py-2 px-4 rounded-full hover:bg-gray-600">
                <-- ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°
            </button>

            <!-- Main Section with a playful title -->
            <section class="relative text-center py-10 px-4 rounded-2xl overflow-hidden bg-gradient-to-r from-rose-400 to-purple-500 shadow-lg">
                <h2 class="text-4xl font-extrabold text-white mb-4">ë‚˜ë§Œì˜ ì´ì•¼ê¸° ë§Œë“¤ê¸°</h2>
                <p class="text-lg text-white/90 mb-8">ìƒ‰ì¹ í•˜ê³  ìŠ¤í‹°ì»¤ë¥¼ ë¶™ì—¬ì„œ ë©‹ì§„ ì´ì•¼ê¸°ë¥¼ ë§Œë“¤ì–´ë´!</p>
            </section>

            <!-- Creative Canvas and Controls -->
            <section class="bg-gray-900 p-6 rounded-2xl shadow-xl border border-pink-200">
                <div class="flex flex-col lg:flex-row gap-6">
                    <!-- Control Panel -->
                    <div class="lg:w-1/4 flex flex-col gap-6 p-4 bg-gray-800 rounded-xl shadow-inner border border-purple-200">
                        <!-- Drawing Tools -->
                        <div>
                            <h3 class="font-bold text-xl text-white mb-4">ê·¸ë¦¬ê¸° ë„êµ¬</h3>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <div class="has-tooltip relative">
                                    <button onclick="changeColor('#ec4899')" class="w-10 h-10 bg-pink-500 rounded-full border-2 border-transparent hover:border-pink-500 transition-all duration-200"></button>
                                    <span class="tooltip">ì¥ë¯¸</span>
                                </div>
                                <div class="has-tooltip relative">
                                    <button onclick="changeColor('#f97316')" class="w-10 h-10 bg-orange-500 rounded-full border-2 border-transparent hover:border-pink-500 transition-all duration-200"></button>
                                    <span class="tooltip">ì£¼í™©</span>
                                </div>
                                <div class="has-tooltip relative">
                                    <button onclick="changeColor('#22d3ee')" class="w-10 h-10 bg-cyan-400 rounded-full border-2 border-transparent hover:border-pink-500 transition-all duration-200"></button>
                                    <span class="tooltip">ì²­ë¡</span>
                                </div>
                                <div class="has-tooltip relative">
                                    <button onclick="changeColor('#8b5cf6')" class="w-10 h-10 bg-violet-500 rounded-full border-2 border-transparent hover:border-pink-500 transition-all duration-200"></button>
                                    <span class="tooltip">ë³´ë¼</span>
                                </div>
                                <div class="has-tooltip relative">
                                    <button onclick="changeColor('#FFFFFF')" class="w-10 h-10 bg-white rounded-full border-2 border-transparent hover:border-pink-500 transition-all duration-200"></button>
                                    <span class="tooltip">ì§€ìš°ê°œ</span>
                                </div>
                            </div>
                            <div class="flex items-center gap-4">
                                <label for="brushSize" class="text-gray-400 font-semibold">íœ êµµê¸°:</label>
                                <input type="range" id="brushSize" min="1" max="20" value="5" class="w-full accent-purple-500">
                            </div>
                        </div>

                        <!-- Sticker Section -->
                        <div>
                            <h3 class="font-bold text-xl text-white mb-4">ìŠ¤í‹°ì»¤</h3>
                            <div class="grid grid-cols-3 gap-4">
                                <img src="https://api.iconify.design/twemoji:sparkles.svg" alt="Sparkles sticker" class="sticker-img w-12 h-12" onclick="addSticker(this)">
                                <img src="https://api.iconify.design/twemoji:rainbow.svg" alt="Rainbow sticker" class="sticker-img w-12 h-12" onclick="addSticker(this)">
                                <img src="https://api.iconify.design/twemoji:star-struck.svg" alt="Star struck sticker" class="sticker-img w-12 h-12" onclick="addSticker(this)">
                                <img src="https://api.iconify.design/twemoji:rocket.svg" alt="Rocket sticker" class="sticker-img w-12 h-12" onclick="addSticker(this)">
                                <img src="https://api.iconify.design/twemoji:unicorn.svg" alt="Unicorn sticker" class="sticker-img w-12 h-12" onclick="addSticker(this)">
                                <img src="https://api.iconify.design/twemoji:frog.svg" alt="Frog sticker" class="sticker-img w-12 h-12" onclick="addSticker(this)">
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="mt-auto flex flex-col gap-4">
                            <button onclick="clearCanvas()" class="btn-fancy bg-rose-600 text-white font-bold py-3 px-6 rounded-full hover:bg-rose-700 ai-btn-glow">ì „ì²´ ì§€ìš°ê¸°</button>
                            <button onclick="saveImage()" class="btn-fancy bg-blue-600 text-white font-bold py-3 px-6 rounded-full hover:bg-blue-700 ai-btn-glow">ë‚´ ì´ì•¼ê¸° ì €ì¥í•˜ê¸°</button>
                        </div>
                    </div>

                    <!-- Canvas Area -->
                    <div class="lg:w-3/4 bg-slate-950 rounded-xl shadow-lg border border-fuchsia-300 relative">
                        <canvas id="drawingCanvas" class="drawing-canvas w-full h-full min-h-[500px]"></canvas>
                        <div id="sticker-container" class="absolute inset-0"></div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Sub-page Section: Book Details -->
        <div id="book-details-page" class="space-y-10 hidden">
            <!-- Back button -->
            <button onclick="showPage('main-page')" class="btn-fancy bg-gray-700 text-white font-bold py-2 px-4 rounded-full hover:bg-gray-600">
                <-- ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°
            </button>

            <section class="bg-gray-800 p-8 rounded-2xl shadow-xl">
                <div class="flex flex-col lg:flex-row items-center lg:items-start gap-8">
                    <div id="book-image-container" class="w-full lg:w-1/3 flex-shrink-0">
                        <div id="book-image" class="w-full h-80 rounded-lg shadow-lg flex items-center justify-center text-white text-3xl font-bold"></div>
                    </div>
                    <div class="w-full lg:w-2/3">
                        <h2 id="book-title" class="text-4xl font-extrabold text-indigo-400 mb-2"></h2>
                        <p id="book-author" class="text-xl font-semibold text-gray-400 mb-6"></p>
                        <p id="book-description" class="text-gray-300 leading-relaxed"></p>
                    </div>
                </div>
            </section>
        </div>

        <!-- Sub-page Section: News Details -->
        <div id="news-details-page" class="space-y-10 hidden">
            <!-- Back button -->
            <button onclick="showPage('main-page')" class="btn-fancy bg-gray-700 text-white font-bold py-2 px-4 rounded-full hover:bg-gray-600">
                <-- ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°
            </button>

            <section class="bg-gray-800 p-8 rounded-2xl shadow-xl">
                <h2 id="news-title" class="text-4xl font-extrabold text-teal-400 mb-2"></h2>
                <p id="news-date" class="text-lg text-gray-500 mb-6"></p>
                <p id="news-content" class="text-gray-300 leading-relaxed"></p>
            </section>
        </div>
    </main>

    <!-- Footer consistent with the main page -->
    <footer class="text-center py-4 mt-8 bg-slate-950 text-sm text-gray-500">
        <p>Â© 2025 ê¿ˆë‚˜ë¬´ ë„ì„œê´€. All Rights Reserved.</p>
    </footer>

    <script>
        // Page navigation logic
        const mainPage = document.getElementById('main-page');
        const storyCreatorPage = document.getElementById('story-creator-page');
        const bookDetailsPage = document.getElementById('book-details-page');
        const newsDetailsPage = document.getElementById('news-details-page');
        
        function showPage(pageId) {
            mainPage.classList.add('hidden');
            storyCreatorPage.classList.add('hidden');
            bookDetailsPage.classList.add('hidden');
            newsDetailsPage.classList.add('hidden');
            document.getElementById(pageId).classList.remove('hidden');
        }

        document.addEventListener('DOMContentLoaded', () => {
            showPage('main-page');
        });

        // Function to show book details
        function showBookDetails(title, author, bgColor, description) {
            document.getElementById('book-title').innerText = title;
            document.getElementById('book-author').innerText = author;
            document.getElementById('book-description').innerText = description;
            
            const bookImageDiv = document.getElementById('book-image');
            bookImageDiv.className = `w-full h-80 rounded-lg shadow-lg flex items-center justify-center text-white text-3xl font-bold ${bgColor}`;
            bookImageDiv.innerText = title;

            showPage('book-details-page');
        }

        // Function to show news details
        function showNewsDetails(title, date, content) {
            document.getElementById('news-title').innerText = title;
            document.getElementById('news-date').innerText = date;
            document.getElementById('news-content').innerText = content;
            showPage('news-details-page');
        }

        // Search functionality
        function searchBook() {
            const searchQuery = document.getElementById('search-input').value.trim();
            const books = {
                'êµ¬ë¦„ë¹µ': {author: 'ë°±í¬ë‚˜', bgColor: 'bg-sky-500', description: 'í•˜ëŠ˜ì„ ë‚˜ëŠ” ì‹ ë¹„í•œ êµ¬ë¦„ë¹µ ì´ì•¼ê¸°! ì•„ì´ë“¤ì˜ ìƒìƒë ¥ì„ ìê·¹í•˜ëŠ” ë”°ëœ»í•œ ê·¸ë¦¼ì±…ì…ë‹ˆë‹¤.'},
                'ì•Œì‚¬íƒ•': {author: 'ë°±í¬ë‚˜', bgColor: 'bg-rose-500', description: 'ì™¸í†¨ì´ ë™ë™ì´ì—ê²Œ íŠ¹ë³„í•œ ì¹œêµ¬ë“¤ì„ ë§Œë“¤ì–´ì£¼ëŠ” ì‹ ë¹„í•œ ì•Œì‚¬íƒ• ì´ì•¼ê¸°. ë§ˆìŒì˜ ì†Œë¦¬ë¥¼ ë“¤ë ¤ì£¼ëŠ” ë”°ëœ»í•œ ê·¸ë¦¼ì±…ì…ë‹ˆë‹¤.'},
                'ë‹¬ ìƒ¤ë² íŠ¸': {author: 'ë°±í¬ë‚˜', bgColor: 'bg-amber-500', description: 'ë”ìš´ ì—¬ë¦„, ë…¹ì•„ë‚´ë¦° ë‹¬ì„ ëª¨ì•„ ë§Œë“  ë‹¬ì½¤í•œ ìƒ¤ë² íŠ¸ ì´ì•¼ê¸°. ì§€êµ¬ ì˜¨ë‚œí™”ì— ëŒ€í•œ ë©”ì‹œì§€ë¥¼ ë‹´ê³  ìˆëŠ” ìƒìƒë ¥ ë„˜ì¹˜ëŠ” ê·¸ë¦¼ì±…ì…ë‹ˆë‹¤.'},
                'ì—°ì´ì™€ ë²„ë“¤ ë„ë ¹': {author: 'ë¯¸ë””ì–´ì°½ë¹„', bgColor: 'bg-teal-500', description: 'í•œêµ­ì˜ ì „ë˜ë™í™”ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•œ ì•„ë¦„ë‹¤ìš´ ì‚¬ë‘ ì´ì•¼ê¸°. ì„¬ì„¸í•œ ê·¸ë¦¼ê³¼ ê°ë™ì ì¸ ìŠ¤í† ë¦¬ê°€ ë‹ë³´ì´ëŠ” ê·¸ë¦¼ì±…ì…ë‹ˆë‹¤.'},
                'íŒ¥ì£½ í• ë¨¸ë‹ˆì™€ í˜¸ë‘ì´': {author: 'ì‚¬ê³„ì ˆ', bgColor: 'bg-indigo-500', description: 'ê¾€ ë§ì€ í• ë¨¸ë‹ˆì™€ ì–´ìˆ˜ë£©í•œ í˜¸ë‘ì´ì˜ í¥ë¯¸ì§„ì§„í•œ ëŒ€ê²° ì´ì•¼ê¸°. ì•„ì´ë“¤ì—ê²Œ êµí›ˆì„ ì£¼ëŠ” ì „í†µ ê·¸ë¦¼ì±…ì…ë‹ˆë‹¤.'},
                'ê°•ì•„ì§€ë˜¥': {author: 'ê¶Œì •ìƒ', bgColor: 'bg-orange-500', description: 'ì„¸ìƒì˜ ê°€ì¥ í•˜ì°®ì€ ì¡´ì¬ë„ ì†Œì¤‘í•œ ì˜ë¯¸ê°€ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œë ¤ì£¼ëŠ” ë”°ëœ»í•œ ì´ì•¼ê¸°. ë§ì€ ì‚¬ëŒë“¤ì—ê²Œ ì‚¬ë‘ë°›ëŠ” ë™í™”ì…ë‹ˆë‹¤.'}
            };

            if (books[searchQuery]) {
                const book = books[searchQuery];
                showBookDetails(searchQuery, book.author, book.bgColor, book.description);
            } else {
                const searchInput = document.getElementById('search-input');
                searchInput.value = '';
                searchInput.placeholder = 'ì£„ì†¡í•´ìš”. ì°¾ëŠ” ì±…ì´ ì—†ì–´ìš”. ë‹¤ì‹œ ê²€ìƒ‰í•´ë³´ì„¸ìš”!';
            }
        }

        // Drawing and Sticker logic
        const canvas = document.getElementById('drawingCanvas');
        const ctx = canvas.getContext('2d');
        const brushSizeInput = document.getElementById('brushSize');
        const stickerContainer = document.getElementById('sticker-container');

        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;
        let brushColor = '#FFFFFF';
        let brushSize = 5;

        function resizeCanvas() {
            const parent = canvas.parentElement;
            canvas.width = parent.clientWidth;
            canvas.height = parent.clientHeight;
        }

        window.addEventListener('resize', resizeCanvas);

        function draw(e) {
            if (!isDrawing) return;
            ctx.beginPath();
            ctx.moveTo(lastX, lastY);
            ctx.lineTo(e.offsetX, e.offsetY);
            ctx.strokeStyle = brushColor;
            ctx.lineWidth = brushSize;
            ctx.lineCap = 'round';
            ctx.stroke();
            [lastX, lastY] = [e.offsetX, e.offsetY];
        }

        canvas.addEventListener('mousedown', (e) => {
            isDrawing = true;
            [lastX, lastY] = [e.offsetX, e.offsetY];
        });

        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', () => isDrawing = false);
        canvas.addEventListener('mouseout', () => isDrawing = false);

        // Touch event handling for mobile
        canvas.addEventListener('touchstart', (e) => {
            isDrawing = true;
            const touch = e.touches[0];
            const rect = canvas.getBoundingClientRect();
            lastX = touch.clientX - rect.left;
            lastY = touch.clientY - rect.top;
        }, { passive: false });

        canvas.addEventListener('touchmove', (e) => {
            if (!isDrawing) return;
            e.preventDefault(); // Prevent scrolling on canvas
            const touch = e.touches[0];
            const rect = canvas.getBoundingClientRect();
            const x = touch.clientX - rect.left;
            const y = touch.clientY - rect.top;
            ctx.beginPath();
            ctx.moveTo(lastX, lastY);
            ctx.lineTo(x, y);
            ctx.strokeStyle = brushColor;
            ctx.lineWidth = brushSize;
            ctx.lineCap = 'round';
            ctx.stroke();
            [lastX, lastY] = [x, y];
        }, { passive: false });
        
        canvas.addEventListener('touchend', () => isDrawing = false);

        // Change color
        function changeColor(color) {
            brushColor = color;
        }

        // Change brush size
        brushSizeInput.addEventListener('input', (e) => {
            brushSize = e.target.value;
        });

        // Clear canvas
        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            stickerContainer.innerHTML = ''; // Remove all stickers
        }

        // Add stickers
        function addSticker(imgElement) {
            const sticker = document.createElement('img');
            sticker.src = imgElement.src;
            sticker.className = 'absolute w-16 h-16 cursor-move';
            sticker.style.left = '50%';
            sticker.style.top = '50%';
            sticker.style.transform = 'translate(-50%, -50%)';
            stickerContainer.appendChild(sticker);

            // Make sticker draggable
            let isDragging = false;
            let startX, startY, initialX, initialY;

            sticker.addEventListener('mousedown', (e) => {
                isDragging = true;
                initialX = sticker.offsetLeft;
                initialY = sticker.offsetTop;
                startX = e.clientX;
                startY = e.clientY;
            });

            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                const dx = e.clientX - startX;
                const dy = e.clientY - startY;
                sticker.style.left = `${initialX + dx}px`;
                sticker.style.top = `${initialY + dy}px`;
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
            });

            // Touch drag for stickers
            sticker.addEventListener('touchstart', (e) => {
                isDragging = true;
                initialX = sticker.offsetLeft;
                initialY = sticker.offsetTop;
                startX = e.touches[0].clientX;
                startY = e.touches[0].clientY;
            });

            document.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                const dx = e.touches[0].clientX - startX;
                const dy = e.touches[0].clientY - startY;
                sticker.style.left = `${initialX + dx}px`;
                sticker.style.top = `${initialY + dy}px`;
            });

            document.addEventListener('touchend', () => {
                isDragging = false;
            });
        }

        // Save image
        function saveImage() {
            // A temporary canvas to combine drawing and stickers
            const combinedCanvas = document.createElement('canvas');
            combinedCanvas.width = canvas.width;
            combinedCanvas.height = canvas.height;
            const combinedCtx = combinedCanvas.getContext('2d');
            
            // Draw the drawing canvas content first
            combinedCtx.drawImage(canvas, 0, 0);

            // Draw each sticker onto the combined canvas
            const stickers = stickerContainer.querySelectorAll('.sticker-img');
            stickers.forEach(sticker => {
                const rect = sticker.getBoundingClientRect();
                const containerRect = stickerContainer.getBoundingClientRect();
                combinedCtx.drawImage(sticker, rect.left - containerRect.left, rect.top - containerRect.top, rect.width, rect.height);
            });

            // Create a download link for the combined image
            const image = combinedCanvas.toDataURL('image/png');
            const link = document.createElement('a');
            link.download = 'my-story.png';
            link.href = image;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // 3D background animation with Three.js
        window.onload = function() {
            const container = document.getElementById('hero-canvas-container');
            if (!container) return;

            // Scene setup
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            container.appendChild(renderer.domElement);

            // Lights
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            scene.add(ambientLight);
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(0, 1, 1);
            scene.add(directionalLight);

            // Create shapes
            const shapes = [];
            const colors = [0xec4899, 0xf97316, 0x22d3ee, 0x8b5cf6, 0x38bdf8]; // Pink, Orange, Cyan, Violet, Light Blue
            const geometry = new THREE.BoxGeometry(1, 1, 1);
            const sphereGeometry = new THREE.SphereGeometry(0.7, 32, 32);

            for (let i = 0; i < 20; i++) {
                const color = colors[Math.floor(Math.random() * colors.length)];
                let mesh;
                if (Math.random() > 0.5) {
                    mesh = new THREE.Mesh(geometry, new THREE.MeshStandardMaterial({ color: color, roughness: 0.5 }));
                } else {
                    mesh = new THREE.Mesh(sphereGeometry, new THREE.MeshStandardMaterial({ color: color, roughness: 0.5 }));
                }
                
                // Position shapes randomly
                mesh.position.x = (Math.random() - 0.5) * 50;
                mesh.position.y = (Math.random() - 0.5) * 50;
                mesh.position.z = (Math.random() - 0.5) * 50;
                
                mesh.rotation.x = Math.random() * Math.PI;
                mesh.rotation.y = Math.random() * Math.PI;

                scene.add(mesh);
                shapes.push(mesh);
            }

            camera.position.z = 10;

            // Animation loop
            function animate() {
                requestAnimationFrame(animate);

                // Rotate and move shapes
                shapes.forEach(shape => {
                    shape.rotation.x += 0.005;
                    shape.rotation.y += 0.005;
                    shape.position.y += 0.01; // Move up
                    if (shape.position.y > 25) {
                        shape.position.y = -25; // Reset position when it goes out of view
                    }
                });

                renderer.render(scene, camera);
            }
            animate();

            // Handle window resize
            window.addEventListener('resize', () => {
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
            });
            
            // Add event listener for news cards
            document.querySelectorAll('.news-card').forEach(card => {
                card.addEventListener('click', (e) => {
                    const title = card.dataset.title;
                    const date = card.dataset.date;
                    const content = card.dataset.content;
                    showNewsDetails(title, date, content);
                });
            });
        };
    </script>
</body>
</html>
